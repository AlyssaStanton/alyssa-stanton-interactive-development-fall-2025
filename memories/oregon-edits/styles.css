/* styles.css - minimal Oregon vibe */
:root{
  --sky1: #7aa7d9;
  --sky2: #426a8f;
  --mount: #2c3e50;
  --mount2: #34556a;
  --tree: #163f2b;
}

/* reset */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: linear-gradient(180deg, var(--sky1) 0%, var(--sky2) 65%, #102226 100%);
  color: #fff;
  min-height:100vh;
  overflow:hidden;
}

/* scene fills full screen, no frame */
.scene{
  width:100%;
  height:100vh;
  position:relative;
  overflow:hidden;
}

/* HUD */
.hud{
  position:absolute;
  top:14px;
  right:16px;
  z-index:30;
}
#rain-toggle{
  background:rgba(255,255,255,0.12);
  border:1px solid rgba(255,255,255,0.15);
  color:#fff;
  padding:8px 12px;
  border-radius:8px;
  cursor:pointer;
  font-weight:600;
}
#rain-toggle:active{transform:translateY(1px)}

/* Scene navigation buttons (Back / Next) */
.hud .scene-nav{
  position:fixed;
  bottom:14px;
  background:rgba(255,255,255,0.12);
  border:1px solid rgba(255,255,255,0.15);
  color:#fff;
  padding:8px 12px;
  border-radius:8px;
  text-decoration:none;
  font-weight:600;
  z-index:60;
}
.hud .scene-nav:hover{ background: rgba(255,255,255,0.16); }
.hud .scene-nav:active{ transform: translateY(1px); }
.hud .scene-nav.back{ left:16px }
.hud .scene-nav.next{ right:16px }

/* sky + mist */
.sky{ position:absolute; inset:0; z-index:1; }
.sunset{
  position:absolute; left:50%; top:18%;
  width:240px; height:240px; transform:translateX(-50%);
  background: radial-gradient(circle at 40% 30%, rgba(255,200,120,0.45), rgba(255,170,80,0.08) 40%, transparent 60%);
  filter: blur(30px);
}
.mist{
  position:absolute; left:0; right:0; top:30%;
  height:70%;
  background:linear-gradient(180deg, rgba(250,250,250,0.06), rgba(12,20,24,0.08));
  mix-blend-mode: screen;
  opacity:0.9;
  z-index:2;
}

/* mountains */
.mountains{ position:absolute; bottom:90px; left:0; right:0; height:260px; z-index:4; }
.mountain{
  position:absolute;
  bottom:0;
  background:linear-gradient(180deg, var(--mount2), var(--mount));
  clip-path: polygon(50% 0, 100% 100%, 0 100%);
  opacity:0.98;
}
.m1{ left:-10%; width:60%; height:220px; transform:scaleX(1.05) translateX(-10px); z-index:4;}
.m2{ left:30%; width:55%; height:200px; opacity:0.9; z-index:3}
.m3{ left:60%; width:45%; height:170px; opacity:0.8; z-index:2}

/* trees */
.trees{
  position:absolute;
  bottom:60px;
  left:0; right:0;
  height:200px;
  display:flex;
  gap:18px;
  align-items:flex-end;
  justify-content:center;
  z-index:6;
  pointer-events:none;
}
.tree{
  width:28px; height:110px;
  position:relative;
}
.tree::before{
  content:"";
  position:absolute; left:50%; transform:translateX(-50%);
  bottom:0;
  border-left:22px solid transparent;
  border-right:22px solid transparent;
  border-bottom:36px solid var(--tree);
}
.tree::after{
  content:"";
  position:absolute; left:50%; transform:translateX(-50%);
  bottom:26px;
  border-left:18px solid transparent;
  border-right:18px solid transparent;
  border-bottom:36px solid var(--tree);
}

/* river */
.river{
  position:absolute;
  bottom:0;
  left:-8%;
  width:116%;
  height:140px;
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.15));
  border-top-left-radius:50% 40px;
  border-top-right-radius:50% 40px;
  z-index:8;
  mix-blend-mode:screen;
  overflow:hidden;
}
.river::before{
  content:"";
  position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  opacity:0.6;
}

/* ---------------------------
   TYPEWRITER TITLE (centered)
   --------------------------- */
.title-type {
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%, -50%);
  font-family:"Courier New", monospace;
  font-size:42px;
  color:white;
  white-space:nowrap;
  display:flex;
  align-items:center;
  z-index:40;
}

.title-type .text {
  overflow:hidden;
  display:inline-block;
  animation: typing 2.6s steps(30, end) forwards;
}

.title-type .cursor {
  width:2px;
  height:1em;
  background:white;
  margin-left:4px;
  animation: blink 0.8s infinite;
}

@keyframes typing {
  from { width:0; }
  to { width:100%; }   /* auto width = no cutoff ever */
}

@keyframes blink {
  0%,50% { opacity:1; }
  50%,100% { opacity:0; }
}

/* ---------------------------
   Rain
   --------------------------- */
.rain{
  position:absolute;
  inset:0;
  z-index:20;
  pointer-events:none;
  overflow:hidden;
}
.rain span{
  display:none;
  position:absolute;
  top:-10%;
  width:2px;
  height:14px;
  border-radius:1px;
  background:rgba(255,255,255,0.65);
  opacity:0.85;
  transform:translateY(-20vh);
}
.rain.active span{
  display:block;
  animation-name:fall;
  animation-timing-function:linear;
  animation-iteration-count:infinite;
}
.rain.active span::after{
  content:"";
  position:absolute;
  left:50%;
  bottom:-5px;
  width:6px; height:2px;
  border-radius:2px;
  background:rgba(255,255,255,0.9);
  opacity:0.15;
  animation:ripple 0.6s linear infinite;
}

@keyframes fall{
  0%{ transform: translateY(-30vh); opacity:0.85 }
  100%{ transform: translateY(130vh); opacity:0 }
}
@keyframes ripple{
  0%{ transform:scaleX(0.05); opacity:0.15 }
  100%{ transform:scaleX(1.3); opacity:0 }
}

/* responsive */
@media(max-width:520px){
  .trees{ gap:10px }
  .title-type{ font-size:32px }
}

/* caption typing below main title */
.caption-type{
  position:absolute;
  top: calc(50% + 56px);
  left:50%;
  transform:translateX(-50%);
  font-family:"Courier New", monospace;
  font-size:20px;
  color:white;
  white-space:nowrap;
  display:flex;
  align-items:center;
  z-index:40;
  visibility:hidden;
}
.caption-type .caption-text{ overflow:hidden; display:inline-block; }
.caption-type .caption-cursor{ width:2px; height:1em; background:white; margin-left:6px; animation: blink 0.8s infinite; }

@media(max-width:520px){
  .caption-type{ font-size:16px; top: calc(50% + 48px); }
}

/* ---------------------------
   PILL-SHAPED CLOUDS
   --------------------------- */
.cloud.pill {
  position:absolute;
  background: rgba(255, 255, 255, 0.55);
  width: 180px;      /* long capsule shape */
  height: 55px;      /* short rounded height */
  border-radius: 50px;
  filter: blur(2px);
  z-index: 3;
  animation: cloud-float 18s linear infinite;
}

/* make clouds look clickable */
.cloud.pill { cursor: pointer; transition: transform 0.12s ease, filter 0.12s ease; }
.cloud.pill.pressed { transform: translateY(6px) scale(0.98); filter: blur(1px); }

.c1 { top: 18%; left: 12%; animation-duration: 22s; }
.c2 { top: 30%; left: 55%; animation-duration: 28s; }
.c3 { top: 42%; left: 25%; animation-duration: 26s; }

@keyframes cloud-float {
  0%   { transform: translateX(0); }
  100% { transform: translateX(160px); }
}
